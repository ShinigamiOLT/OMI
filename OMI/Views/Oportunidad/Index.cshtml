@using System.Web.UI.WebControls
@model TbOportunidad

<div class="row">
<div class="col-md-12">
<div class="panel panel-border panel-primary">
<div class="panel-heading">
    <h3 class="panel-title">Sistema OIM - Ingenieria Aplicada OnePro</h3>
</div>
<div class="panel-body">

@using (@Html.BeginForm("Index", "Oportunidad", FormMethod.Post))
{
    @Html.HiddenFor(o=>o.TbFormato)
    @Html.HiddenFor(o=>o.idFormato)
    @Html.HiddenFor(o=>o.Id)
    @Html.HiddenFor(o=>o.idUsuario)


    <div class="container">

        <div class="row">

            <div class="col-md-8">
                <div class="menubar-logo" id="titulo">


                    <span class="container">

                        <h1> @Model.TbFormato.Descripcion</h1>
                    </span>

                </div>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default" id="panel_ovi">

                    <div class="panel-body">
                        <div class="input-group ">
                            <span class="input-group-addon" id="sizing-addon4">Folio</span>
                            <input type="text" class="form-control" name="Folio" placeholder="Username" aria-describedby="sizing-addon1" value="@Model.Folio" style="text-align: right; color: red" readonly="true">
                        </div>

                        <ul class="list-group">
                            <li class="list-group-item"><h6>No. Formato: @Model.TbFormato.Nombre</h6></li>
                            <li class="list-group-item"><h6>Revisión: @Model.TbFormato.Revision</h6></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--dasdasd div zxccxc-->





    <div class="container">


        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h2 class="panel-title">Contacto</h2>
                </div>
                <div class="panel-body ">

                    <div class="input-group miinput">
                                     
                                         
                        <span class="input-group-addon" id="sizing-addon1">Fecha:</span>
                        @*                  @Html.TextBoxFor(model => model.Fecha, new {@class = "form-control",type="date"})
    <input  class="form-control" type="datetime-local" name="@Html.NameFor(o => o.Fecha)" placeholder="Fecha" aria-describedby="sizing-addon1" value="@Model.Fecha" required> @Html.ValidationMessageFor(model => model.Fecha)* @
                                            @Html.TextBoxFor(model=>model.Fecha,new {@class="form-control"})]*@
                        <input  class="form-control" type="datetime-local" name="@Html.NameFor(o => o.Fecha)" placeholder="Fecha" aria-describedby="sizing-addon1" value="@Model.Fecha" required> @Html.ValidationMessageFor(model => model.Fecha)
                    </div>

                    <div class="input-group miinput">
                        <span class="input-group-addon" id="sizing-addon2">Compania :</span>
                        <input type="text" class="form-control" name= "@Html.NameFor(o=>o.Compania)" placeholder="Persona de contacto" aria-describedby="sizing-addon2" value="@Model.Compania" required>
                    </div>


                    <div class="input-group miinput">
                        <span class="input-group-addon" id="sizing-addon3">Representante :</span>

                        <input type="text" class="form-control" name= "@Html.NameFor(o=>o.Representante)" placeholder="Persona de contacto" aria-describedby="sizing-addon2" value="@Model.Representante" >
                    </div>

                    <div class="input-group miinput">

                        <span class="input-group-addon" id="sizing-addon4">Telefono :</span>
                        <input type="tel" class="form-control" name= "@Html.NameFor(o=>o.Telefono)" placeholder="Telefono" aria-describedby="sizing-addon2" value ="@Model.Telefono">
                    </div>

                    <div class="input-group miinput">
                        <span class="input-group-addon" id="sizing-addon5">Correo: </span>
                        <input type="email" class="form-control" name= "@Html.NameFor(o=>o.Correo)" placeholder="Correo" aria-describedby="sizing-addon2" value="@Model.Correo">
                    </div>
                    <div class="input-group miinput">
                        <span class="input-group-addon" id="sizing-addon6">Medio: </span>
                        
                            @Html.DropDownList("MedioContacto", ViewBag.Medios as SelectList, "Seleccione", htmlAttributes: new { @class = "form-control jsfilter" })
                        </div>
                        @*<div class="col-xs-12 selectContainer">
                            <select class="form-control" name="MedioContacto" >
                                <option value="Null">Seleccione un tipo</option>
                                <option value="Correo">Correo</option>
                                <option value="Web">Portal de Internet</option>
                                <option value="Telefono">Teléfono</option>
                                <option value="Whatsapp">Whatsapp</option>
                                <option value="Facebook">Facebook</option>
                                <option value="Otros">Otros</option>

                            </select>
                        </div>*@
              
                                   
                </div>
                            


            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2 class="panel-title">Requerimiento de la oportunidad</h2>
                    </div>
                    <div class="panel-body ">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <div class="col-md-12">
                                   @* <textarea class="form-control" name="otro" rows="4" placeholder="Describa la oportunidad" width=100% required value="@Model.Descripcion"></textarea>*@
                                    <div class="form-group">
                                        @Html.TextAreaFor(o=>o.Descripcion, new { @class = "form-control",rows = "4" ,placeholder = "Describa la oportunidad" ,width = "100 %", })
                                        @Html.ValidationMessageFor(model => model.Descripcion)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                        
                        
        <div class="row">
            <div class="col-md-12">


                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2 class="panel-title">Detalles de la Oportunidad</h2>
                    </div>
                    <div class="panel-body">
                        <div class="col-md-6 selectContainer">
                            <div class="list-group" name="@Html.NameFor(o=>o.TbTipoOportunidad)" id="list1" require>
                                <a class="list-group-item"><h4><span>Tipo de Oportunidad</span></h4></a>
                                @foreach (TbTipoOportunidad g in (List<TbTipoOportunidad>) ViewBag.LTipoOportunidad)
                                {
                                    <a class="list-group-item ">
                                        <input type="checkbox"

                                               name="TipoOportunidad" value="@g.Id" id="@g.Id"

                                               @foreach (TbTipoOportunidad intereses in Model.TbTipoOportunidad)
                                               {


                                                   if (intereses.Id == g.Id)
                                                   {

                                                       <text> checked = 'checked' </text>

                                                   }
                                               }/>



                                        <label for="@g.Id">@g.Nombre</label>
                                    </a>
                                }
                            </div>
                        </div>
                        <div class="col-md-6 selectContainer">
                            <div class="list-group" name="AreaInteres" id="list2" require>
                                <a class="list-group-item"><h4><span>Area de Interes</span></h4></a>
                                @foreach (TbAreaInteres g in (List<TbAreaInteres>)ViewBag.LAreas)
                                {
                                    <a class="list-group-item ">
                                        <input type="checkbox"
                                               name="AreasInteres" value="@g.Id" id="@g.Id"
                                               @foreach (TbAreaInteres intereses in Model.TbAreaInteres)
                                               {   if (intereses.Id == g.Id) {  <text> checked='checked' </text>   } } />

                                        <label for="@g.Id">@g.Nombre</label>
                                    </a>
                                }
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
                                       
        <div class="row" style="margin: 20px;">
            <form>
                <div class="form-group">

                    <div class="col-md-6" >
                        <button type="submit" id="enviar" class="btn btn-primary">Nueva Oportunidad</button>
                        <button type="submit" id="cancelar" class="btn btn-danger">Cancelar Oportunidad</button>
                    </div>
                </div>

            </form>
        </div>

    </div>
}
</div>
</div>
</div>
</div>
 


@section Scripts{
<script>
   

    /* toggle all checkboxes in group 
    $('.all').click(function(e){
        e.stopPropagation();
        var $this = $(this);
        if($this.is(":checked")) {
            $this.parents('.list-group').find("[type=checkbox]").prop("checked",true);
        }
        else {
            $this.parents('.list-group').find("[type=checkbox]").prop("checked",false);
            $this.prop("checked",false);
        }
    });

    $('[type=checkbox]').click(function(e){
        e.stopPropagation();
    });
*/
    /* toggle checkbox when list group item is clicked */
    $('.list-group li').click(function(e){

        e.stopPropagation();

        var $this = $(this).find("[type=checkbox]");
        if($this.is(":checked")) {
            $this.prop("checked",false);
        }
        else {
            $this.prop("checked",true);
        }

        if ($this.hasClass("all")) {
            $this.trigger('click');
        }
    });
    $('.list-group a').click(function (e) {

        e.stopPropagation();

        var $this = $(this).find("[type=checkbox]");
        if ($this.is(":checked")) {
            $this.prop("checked", false);
        }
        else {
            $this.prop("checked", true);
        }

        if ($this.hasClass("all")) {
            $this.trigger('click');
        }
    });

</script>  
}

@*
@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <h4>TbOportunidad</h4>
        <hr />
        
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.Id, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Id, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Id, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Folio, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Folio, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Folio, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Fecha, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Fecha, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Fecha, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.FechaSistema, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.FechaSistema, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.FechaSistema, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Representante, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Representante, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Representante, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Telefono, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Telefono, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Telefono, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Correo, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Correo, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Correo, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.MedioContacto, "MedioContacto", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
             @*   @Html.DropDownList("MedioContacto", null, htmlAttributes: new { @class = "form-control" })* @
                @Html.ValidationMessageFor(model => model.MedioContacto, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Descripcion, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Descripcion, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Descripcion, "", new { @class = "text-danger" })
            </div>
        </div>

      

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>
    </div>
}
*@
<div>
    @Html.ActionLink("Back to List", "Index")
</div>
